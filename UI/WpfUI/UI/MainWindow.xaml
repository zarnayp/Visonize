<Window x:Class="Standalone.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Visonize.UsImaging.Standalone.UI"
        xmlns:usim="clr-namespace:Visonize.UsImaging.Standalone"
        WindowStyle="None"
        ResizeMode="CanResize"
        mc:Ignorable="d"
        DataContext="{StaticResource ViewerViewModel}"
        Title="MainWindow" Height="900" Width="1580" Background="Black">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <local:EnumToBoolConverter x:Key="EnumToBool"/>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
            <RowDefinition Height="0" />
        </Grid.RowDefinitions>

        <!-- Top row: custom title bar -->
        <Grid Grid.Row="0" Height="40" Background="#101010" x:Name="TitleBar" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="8,0,0,0">
                <Label Content="V I S O N I Z E" Foreground="LightGray" FontSize="17" FontWeight="SemiBold" VerticalAlignment="Top" Margin="0,-4,0,0" />
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                <Button Padding="10" Style="{StaticResource IconButtonStyle}" x:Name="MinimizeButton" Click="MinimizeButton_Click"  Margin="0,0,4,0" Background="Transparent" BorderThickness="0" ToolTip="Minimize">
                    <Grid Height="20" Width="20" Background="Transparent">
                        <Path Margin="4"  Data="M0,6 L12,6" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </Button>
                <Button Style="{StaticResource IconButtonStyle}" x:Name="MaxRestoreButton" Click="MaxRestoreButton_Click" Margin="16,0,4,0" Padding="0" Background="Transparent" BorderThickness="0" ToolTip="Maximize/Restore">
                    <Grid Height="20" Width="20" Background="Transparent">
                        <Path  Margin="4" x:Name="MaxIcon" Data="M0,0 L10,0 L10,8 L0,8 Z"  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5" Fill="Transparent" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>

                </Button>
                <Button Style="{StaticResource IconButtonStyle}" x:Name="CloseButton" Click="CloseButton_Click" Margin="16,0,8,0" Padding="0" Background="Black" BorderThickness="0" ToolTip="Close">
                    <Grid Height="20" Width="20" Background="Transparent">
                        <Path Margin="4"  Data="M0,0 L10,10 M10,0 L0,10"  Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>

                </Button>
            </StackPanel>
        </Grid>

        <!-- Middle row split into 3 columns -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="46" />
                <ColumnDefinition Width="260" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="240" />
            </Grid.ColumnDefinitions>

            <!-- Left column (70px) - reserved for tools/controls -->
            <Grid Grid.Column="0" Background="#1A1A1A" >
                <StackPanel Orientation="Vertical" Width="28" HorizontalAlignment="Left" Margin="10,10">
                    <Button x:Name="LoadFile" Style="{StaticResource IconButtonStyle}" Click="LoadFile_Click">
                        <Grid Background="Transparent" >
                        <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" Stretch="Uniform">
                            <Canvas Name="svg8" Width="512" Height="512">
                                <Canvas.RenderTransform>
                                    <TranslateTransform X="0" Y="0"/>
                                </Canvas.RenderTransform>
                                <Canvas.Resources/>
                                <!--Unknown tag: sodipodi:namedview-->
                                <Canvas Name="g6">
                                    <Canvas.RenderTransform>
                                        <TranslateTransform X="42.667" Y="42.667"/>
                                    </Canvas.RenderTransform>
                                    <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path2" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}">
                                        <Path.Data>
                                            <PathGeometry Figures="M178.0832 42.6666667 L221.594 77.0716667 L191.217 107.448667 L163.24992 85.3333333 L42.6666667 85.3333333 L42.6666667 296.106667 L82.0209067 170.666667 L341.333333 170.666667 L341.333 170.665667 L384 170.665667 L437.333333 170.666667 L372.583253 384 L-2.13162821e-14 384 L-2.13162821e-14 42.6666667 L178.0832 42.6666667 Z M379.79136 213.333333 L113.354027 213.333333 L73.1874133 341.333333 L340.95808 341.333333 L379.79136 213.333333 Z" FillRule="EvenOdd"/>
                                        </Path.Data>
                                    </Path>
                                    <Path xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Name="path4" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}">
                                        <Path.Data>
                                            <PathGeometry Figures="M384 7.10542736e-15 L384 149.333333 L341.333333 149.333333 L341.332777 72.836 L264.836777 149.332777 L204.496777 149.333333 L311.162777 42.666 L234.666667 42.6666667 L234.666667 7.10542736e-15 L384 7.10542736e-15 Z" FillRule="NonZero"/>
                                        </Path.Data>
                                    </Path>
                                </Canvas>
                            </Canvas>
                        </Viewbox>
                        </Grid>

                    </Button>
                </StackPanel>
            </Grid>
            <Grid Grid.Column="1"  >
                <StackPanel Orientation="Vertical">
                <Border Height="240" VerticalAlignment="Top" Margin="1" CornerRadius="8" Background="#101010">
                    <Grid>
                     <Label Foreground="#909090" FontSize="16">Layout</Label>
                        <WrapPanel Orientation="Horizontal" Margin="5,45,5,5">
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Live" IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Live}"></ToggleButton>
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Dual" IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Dual}"></ToggleButton>
                        </WrapPanel>

                        <WrapPanel Orientation="Horizontal" Margin="5,105,5,5">
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Edit 1x1"  IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Review1x1}"></ToggleButton>
                            <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Edit 2x1" IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Review2x1}"></ToggleButton>
                            <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Edit 2x2" IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Review2x2}"></ToggleButton>


                            </WrapPanel>

                            <WrapPanel Orientation="Horizontal" Margin="5,165,5,5">
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="1x1"  IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Review}"></ToggleButton>
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="2x1"  IsChecked="{Binding CurrentLayout, Converter={StaticResource EnumToBool}, ConverterParameter=Review2x1}"></ToggleButton>

                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="2x2"></ToggleButton>
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="3x3" ></ToggleButton>
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="4x4" ></ToggleButton>

                            </WrapPanel>
                        </Grid>
                </Border>

                <Border Height="260" VerticalAlignment="Top" Margin="1" CornerRadius="8" Background="#101010">
                    <Grid>
                        <Label Foreground="#909090" FontSize="16">Image settings</Label>
                        <WrapPanel Orientation="Horizontal" Margin="5,45,5,5">
                            <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="ISO"></ToggleButton>
                        </WrapPanel>

                    </Grid>
                </Border>

                    <Border Height="150" VerticalAlignment="Top" Margin="1" CornerRadius="8" Background="#101010">
                        <Grid>
                            <Label Foreground="#909090" FontSize="16">Debug functions</Label>
                            <WrapPanel Orientation="Horizontal" Margin="5,45,5,5">
                                <ToggleButton Style="{StaticResource RoundedToggleButtonStyle}" Content="Load"></ToggleButton>
                            </WrapPanel>

                        </Grid>
                    </Border>
                </StackPanel>
            </Grid>

            <!-- Middle column contains the existing image area -->
            <Grid Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Grid x:Name="imageAreaGrid" Width="1024" Height="720" Background="Black">
                    <local:ImageAreaHost x:Name="imageAreaHost" Width="1024" Height="720" Visibility="Hidden"/>
                </Grid>
            </Grid>

            <!-- Right column - Thumbnails -->
            <Grid Grid.Column="3">
                <usim:Thumbnails HorizontalAlignment="Center" />
            </Grid>
        </Grid>

        <!-- Bottom row (could contain status bar) -->
        <Grid Grid.Row="2" Height="40" Background="Transparent" />
    </Grid>
</Window>
